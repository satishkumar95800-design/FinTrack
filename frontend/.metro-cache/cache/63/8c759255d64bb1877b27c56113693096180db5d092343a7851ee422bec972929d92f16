{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../commonTypes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":54,"index":112}}],"key":"9j6OaBzi0V5srVAX3iTMRrWOBnc=","exportNames":["*"],"imports":1}},{"name":"../errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":47,"index":160}}],"key":"hqwpWRawU/ruYp+nBkn/8IqEHoU=","exportNames":["*"],"imports":1}},{"name":"../PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":161},"end":{"line":6,"column":54,"index":215}}],"key":"iJ0YgfbcPgrclB5t1J5j2jedwxA=","exportNames":["*"],"imports":1}},{"name":"../shareables.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":216},"end":{"line":7,"column":49,"index":265}}],"key":"+BsDziwrceWKNZTUh5E+zFaWGsc=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":266},"end":{"line":8,"column":69,"index":335}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useHandler = useHandler;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _commonTypesJs = require(_dependencyMap[1], \"../commonTypes.js\");\n  var _errorsJs = require(_dependencyMap[2], \"../errors.js\");\n  var _PlatformCheckerJs = require(_dependencyMap[3], \"../PlatformChecker.js\");\n  var _shareablesJs = require(_dependencyMap[4], \"../shareables.js\");\n  var _utilsJs = require(_dependencyMap[5], \"./utils.js\");\n  /**\n   * Lets you find out whether the event handler dependencies have changed.\n   *\n   * @param handlers - An object of event handlers.\n   * @param dependencies - An optional array of dependencies.\n   * @returns An object containing a boolean indicating whether the dependencies\n   *   have changed, and a boolean indicating whether the code is running on the\n   *   web.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useHandler\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useHandler(handlers, dependencies) {\n    const initRef = (0, _react.useRef)(null);\n    if (initRef.current === null) {\n      const context = (0, _shareablesJs.makeShareable)({});\n      initRef.current = {\n        context,\n        savedDependencies: []\n      };\n    }\n    (0, _react.useEffect)(() => {\n      return () => {\n        initRef.current = null;\n      };\n    }, []);\n    const {\n      context,\n      savedDependencies\n    } = initRef.current;\n    for (const handlerName in handlers) {\n      if (!(0, _commonTypesJs.isWorkletFunction)(handlers[handlerName])) {\n        throw new _errorsJs.ReanimatedError('Passed a function that is not a worklet. Please provide a worklet function.');\n      }\n    }\n    dependencies = (0, _utilsJs.buildDependencies)(dependencies, handlers);\n    const doDependenciesDiffer = !(0, _utilsJs.areDependenciesEqual)(dependencies, savedDependencies);\n    initRef.current.savedDependencies = dependencies;\n    const useWeb = (0, _PlatformCheckerJs.isWeb)() || (0, _PlatformCheckerJs.isJest)();\n    return {\n      context,\n      doDependenciesDiffer,\n      useWeb\n    };\n  }\n});","lineCount":59,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,22,0,"exports"],[7,9,22,0],[7,10,22,0,"useHandler"],[7,20,22,0],[7,23,22,0,"useHandler"],[7,33,22,0],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_commonTypesJs"],[9,20,4,0],[9,23,4,0,"require"],[9,30,4,0],[9,31,4,0,"_dependencyMap"],[9,45,4,0],[10,2,5,0],[10,6,5,0,"_errorsJs"],[10,15,5,0],[10,18,5,0,"require"],[10,25,5,0],[10,26,5,0,"_dependencyMap"],[10,40,5,0],[11,2,6,0],[11,6,6,0,"_PlatformCheckerJs"],[11,24,6,0],[11,27,6,0,"require"],[11,34,6,0],[11,35,6,0,"_dependencyMap"],[11,49,6,0],[12,2,7,0],[12,6,7,0,"_shareablesJs"],[12,19,7,0],[12,22,7,0,"require"],[12,29,7,0],[12,30,7,0,"_dependencyMap"],[12,44,7,0],[13,2,8,0],[13,6,8,0,"_utilsJs"],[13,14,8,0],[13,17,8,0,"require"],[13,24,8,0],[13,25,8,0,"_dependencyMap"],[13,39,8,0],[14,2,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,2,20,0],[26,2,22,7],[26,11,22,16,"useHandler"],[26,21,22,26,"useHandler"],[26,22,22,27,"handlers"],[26,30,22,35],[26,32,22,37,"dependencies"],[26,44,22,49],[26,46,22,51],[27,4,23,2],[27,10,23,8,"initRef"],[27,17,23,15],[27,20,23,18],[27,24,23,18,"useRef"],[27,30,23,24],[27,31,23,24,"useRef"],[27,37,23,24],[27,39,23,25],[27,43,23,29],[27,44,23,30],[28,4,24,2],[28,8,24,6,"initRef"],[28,15,24,13],[28,16,24,14,"current"],[28,23,24,21],[28,28,24,26],[28,32,24,30],[28,34,24,32],[29,6,25,4],[29,12,25,10,"context"],[29,19,25,17],[29,22,25,20],[29,26,25,20,"makeShareable"],[29,39,25,33],[29,40,25,33,"makeShareable"],[29,53,25,33],[29,55,25,34],[29,56,25,35],[29,57,25,36],[29,58,25,37],[30,6,26,4,"initRef"],[30,13,26,11],[30,14,26,12,"current"],[30,21,26,19],[30,24,26,22],[31,8,27,6,"context"],[31,15,27,13],[32,8,28,6,"savedDependencies"],[32,25,28,23],[32,27,28,25],[33,6,29,4],[33,7,29,5],[34,4,30,2],[35,4,31,2],[35,8,31,2,"useEffect"],[35,14,31,11],[35,15,31,11,"useEffect"],[35,24,31,11],[35,26,31,12],[35,32,31,18],[36,6,32,4],[36,13,32,11],[36,19,32,17],[37,8,33,6,"initRef"],[37,15,33,13],[37,16,33,14,"current"],[37,23,33,21],[37,26,33,24],[37,30,33,28],[38,6,34,4],[38,7,34,5],[39,4,35,2],[39,5,35,3],[39,7,35,5],[39,9,35,7],[39,10,35,8],[40,4,36,2],[40,10,36,8],[41,6,37,4,"context"],[41,13,37,11],[42,6,38,4,"savedDependencies"],[43,4,39,2],[43,5,39,3],[43,8,39,6,"initRef"],[43,15,39,13],[43,16,39,14,"current"],[43,23,39,21],[44,4,40,2],[44,9,40,7],[44,15,40,13,"handlerName"],[44,26,40,24],[44,30,40,28,"handlers"],[44,38,40,36],[44,40,40,38],[45,6,41,4],[45,10,41,8],[45,11,41,9],[45,15,41,9,"isWorkletFunction"],[45,29,41,26],[45,30,41,26,"isWorkletFunction"],[45,47,41,26],[45,49,41,27,"handlers"],[45,57,41,35],[45,58,41,36,"handlerName"],[45,69,41,47],[45,70,41,48],[45,71,41,49],[45,73,41,51],[46,8,42,6],[46,14,42,12],[46,18,42,16,"ReanimatedError"],[46,27,42,31],[46,28,42,31,"ReanimatedError"],[46,43,42,31],[46,44,42,32],[46,121,42,109],[46,122,42,110],[47,6,43,4],[48,4,44,2],[49,4,45,2,"dependencies"],[49,16,45,14],[49,19,45,17],[49,23,45,17,"buildDependencies"],[49,31,45,34],[49,32,45,34,"buildDependencies"],[49,49,45,34],[49,51,45,35,"dependencies"],[49,63,45,47],[49,65,45,49,"handlers"],[49,73,45,57],[49,74,45,58],[50,4,46,2],[50,10,46,8,"doDependenciesDiffer"],[50,30,46,28],[50,33,46,31],[50,34,46,32],[50,38,46,32,"areDependenciesEqual"],[50,46,46,52],[50,47,46,52,"areDependenciesEqual"],[50,67,46,52],[50,69,46,53,"dependencies"],[50,81,46,65],[50,83,46,67,"savedDependencies"],[50,100,46,84],[50,101,46,85],[51,4,47,2,"initRef"],[51,11,47,9],[51,12,47,10,"current"],[51,19,47,17],[51,20,47,18,"savedDependencies"],[51,37,47,35],[51,40,47,38,"dependencies"],[51,52,47,50],[52,4,48,2],[52,10,48,8,"useWeb"],[52,16,48,14],[52,19,48,17],[52,23,48,17,"isWeb"],[52,41,48,22],[52,42,48,22,"isWeb"],[52,47,48,22],[52,49,48,23],[52,50,48,24],[52,54,48,28],[52,58,48,28,"isJest"],[52,76,48,34],[52,77,48,34,"isJest"],[52,83,48,34],[52,85,48,35],[52,86,48,36],[53,4,49,2],[53,11,49,9],[54,6,50,4,"context"],[54,13,50,11],[55,6,51,4,"doDependenciesDiffer"],[55,26,51,24],[56,6,52,4,"useWeb"],[57,4,53,2],[57,5,53,3],[58,2,54,0],[59,0,54,1],[59,3]],"functionMap":{"names":["<global>","useHandler","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCqB;YCS;WCC;KDE;GDC;CDmB"},"hasCjsExports":false},"type":"js/module"}]}