{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":42,"index":56}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../commonTypes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":51,"index":164}}],"key":"dQSfS57Pf/C96+Vvd1rktbJJov4=","exportNames":["*"],"imports":1}},{"name":"../errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":165},"end":{"line":6,"column":44,"index":209}}],"key":"ioSJ9iLOtXMo2uBjbVE14/NC9RQ=","exportNames":["*"],"imports":1}},{"name":"../PlatformChecker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":210},"end":{"line":7,"column":51,"index":261}}],"key":"qXble9ybAlViAQKWCIOx+hfaZjE=","exportNames":["*"],"imports":1}},{"name":"../shareables","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":262},"end":{"line":8,"column":46,"index":308}}],"key":"FdbDFSDZ4WXqE0/hGYXRyz7sZ44=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":379},"end":{"line":10,"column":66,"index":445}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useHandler = useHandler;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _commonTypes = require(_dependencyMap[1], \"../commonTypes\");\n  var _errors = require(_dependencyMap[2], \"../errors\");\n  var _PlatformChecker = require(_dependencyMap[3], \"../PlatformChecker\");\n  var _shareables = require(_dependencyMap[4], \"../shareables\");\n  var _utils = require(_dependencyMap[5], \"./utils\");\n  /**\n   * Lets you find out whether the event handler dependencies have changed.\n   *\n   * @param handlers - An object of event handlers.\n   * @param dependencies - An optional array of dependencies.\n   * @returns An object containing a boolean indicating whether the dependencies\n   *   have changed, and a boolean indicating whether the code is running on the\n   *   web.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useHandler\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useHandler(handlers, dependencies) {\n    var initRef = (0, _react.useRef)(null);\n    if (initRef.current === null) {\n      var _context = (0, _shareables.makeShareable)({});\n      initRef.current = {\n        context: _context,\n        savedDependencies: []\n      };\n    }\n    (0, _react.useEffect)(() => {\n      return () => {\n        initRef.current = null;\n      };\n    }, []);\n    var _initRef$current = initRef.current,\n      context = _initRef$current.context,\n      savedDependencies = _initRef$current.savedDependencies;\n    for (var handlerName in handlers) {\n      if (!(0, _commonTypes.isWorkletFunction)(handlers[handlerName])) {\n        throw new _errors.ReanimatedError('Passed a function that is not a worklet. Please provide a worklet function.');\n      }\n    }\n    dependencies = (0, _utils.buildDependencies)(dependencies, handlers);\n    var doDependenciesDiffer = !(0, _utils.areDependenciesEqual)(dependencies, savedDependencies);\n    initRef.current.savedDependencies = dependencies;\n    var useWeb = (0, _PlatformChecker.isWeb)() || (0, _PlatformChecker.isJest)();\n    return {\n      context,\n      doDependenciesDiffer,\n      useWeb\n    };\n  }\n});","lineCount":58,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,64,0,"exports"],[7,9,64,0],[7,10,64,0,"useHandler"],[7,20,64,0],[7,23,64,0,"useHandler"],[7,33,64,0],[8,2,2,0],[8,6,2,0,"_react"],[8,12,2,0],[8,15,2,0,"require"],[8,22,2,0],[8,23,2,0,"_dependencyMap"],[8,37,2,0],[9,2,5,0],[9,6,5,0,"_commonTypes"],[9,18,5,0],[9,21,5,0,"require"],[9,28,5,0],[9,29,5,0,"_dependencyMap"],[9,43,5,0],[10,2,6,0],[10,6,6,0,"_errors"],[10,13,6,0],[10,16,6,0,"require"],[10,23,6,0],[10,24,6,0,"_dependencyMap"],[10,38,6,0],[11,2,7,0],[11,6,7,0,"_PlatformChecker"],[11,22,7,0],[11,25,7,0,"require"],[11,32,7,0],[11,33,7,0,"_dependencyMap"],[11,47,7,0],[12,2,8,0],[12,6,8,0,"_shareables"],[12,17,8,0],[12,20,8,0,"require"],[12,27,8,0],[12,28,8,0,"_dependencyMap"],[12,42,8,0],[13,2,10,0],[13,6,10,0,"_utils"],[13,12,10,0],[13,15,10,0,"require"],[13,22,10,0],[13,23,10,0,"_dependencyMap"],[13,37,10,0],[14,2,45,0],[15,0,46,0],[16,0,47,0],[17,0,48,0],[18,0,49,0],[19,0,50,0],[20,0,51,0],[21,0,52,0],[22,0,53,0],[23,0,54,0],[24,2,55,0],[26,2,64,7],[26,11,64,16,"useHandler"],[26,21,64,26,"useHandler"],[26,22,68,2,"handlers"],[26,30,68,50],[26,32,69,2,"dependencies"],[26,44,69,31],[26,46,70,30],[27,4,71,2],[27,8,71,8,"initRef"],[27,15,71,15],[27,18,71,18],[27,22,71,18,"useRef"],[27,28,71,24],[27,29,71,24,"useRef"],[27,35,71,24],[27,37,71,66],[27,41,71,70],[27,42,71,71],[28,4,72,2],[28,8,72,6,"initRef"],[28,15,72,13],[28,16,72,14,"current"],[28,23,72,21],[28,28,72,26],[28,32,72,30],[28,34,72,32],[29,6,73,4],[29,10,73,10,"context"],[29,18,73,17],[29,21,73,20],[29,25,73,20,"makeShareable"],[29,36,73,33],[29,37,73,33,"makeShareable"],[29,50,73,33],[29,52,73,34],[29,53,73,35],[29,54,73,47],[29,55,73,48],[30,6,74,4,"initRef"],[30,13,74,11],[30,14,74,12,"current"],[30,21,74,19],[30,24,74,22],[31,8,75,6,"context"],[31,15,75,13],[31,17,75,6,"context"],[31,25,75,13],[32,8,76,6,"savedDependencies"],[32,25,76,23],[32,27,76,25],[33,6,77,4],[33,7,77,5],[34,4,78,2],[35,4,80,2],[35,8,80,2,"useEffect"],[35,14,80,11],[35,15,80,11,"useEffect"],[35,24,80,11],[35,26,80,12],[35,32,80,18],[36,6,81,4],[36,13,81,11],[36,19,81,17],[37,8,82,6,"initRef"],[37,15,82,13],[37,16,82,14,"current"],[37,23,82,21],[37,26,82,24],[37,30,82,28],[38,6,83,4],[38,7,83,5],[39,4,84,2],[39,5,84,3],[39,7,84,5],[39,9,84,7],[39,10,84,8],[40,4,86,2],[40,8,86,2,"_initRef$current"],[40,24,86,2],[40,27,86,41,"initRef"],[40,34,86,48],[40,35,86,49,"current"],[40,42,86,56],[41,6,86,10,"context"],[41,13,86,17],[41,16,86,17,"_initRef$current"],[41,32,86,17],[41,33,86,10,"context"],[41,40,86,17],[42,6,86,19,"savedDependencies"],[42,23,86,36],[42,26,86,36,"_initRef$current"],[42,42,86,36],[42,43,86,19,"savedDependencies"],[42,60,86,36],[43,4,88,2],[43,9,88,7],[43,13,88,13,"handlerName"],[43,24,88,24],[43,28,88,28,"handlers"],[43,36,88,36],[43,38,88,38],[44,6,89,4],[44,10,89,8],[44,11,89,9],[44,15,89,9,"isWorkletFunction"],[44,27,89,26],[44,28,89,26,"isWorkletFunction"],[44,45,89,26],[44,47,89,27,"handlers"],[44,55,89,35],[44,56,89,36,"handlerName"],[44,67,89,47],[44,68,89,48],[44,69,89,49],[44,71,89,51],[45,8,90,6],[45,14,90,12],[45,18,90,16,"ReanimatedError"],[45,25,90,31],[45,26,90,31,"ReanimatedError"],[45,41,90,31],[45,42,91,8],[45,119,92,6],[45,120,92,7],[46,6,93,4],[47,4,94,2],[48,4,96,2,"dependencies"],[48,16,96,14],[48,19,96,17],[48,23,96,17,"buildDependencies"],[48,29,96,34],[48,30,96,34,"buildDependencies"],[48,47,96,34],[48,49,97,4,"dependencies"],[48,61,97,16],[48,63,98,4,"handlers"],[48,71,99,2],[48,72,99,3],[49,4,101,2],[49,8,101,8,"doDependenciesDiffer"],[49,28,101,28],[49,31,101,31],[49,32,101,32],[49,36,101,32,"areDependenciesEqual"],[49,42,101,52],[49,43,101,52,"areDependenciesEqual"],[49,63,101,52],[49,65,102,4,"dependencies"],[49,77,102,16],[49,79,103,4,"savedDependencies"],[49,96,104,2],[49,97,104,3],[50,4,105,2,"initRef"],[50,11,105,9],[50,12,105,10,"current"],[50,19,105,17],[50,20,105,18,"savedDependencies"],[50,37,105,35],[50,40,105,38,"dependencies"],[50,52,105,50],[51,4,106,2],[51,8,106,8,"useWeb"],[51,14,106,14],[51,17,106,17],[51,21,106,17,"isWeb"],[51,37,106,22],[51,38,106,22,"isWeb"],[51,43,106,22],[51,45,106,23],[51,46,106,24],[51,50,106,28],[51,54,106,28,"isJest"],[51,70,106,34],[51,71,106,34,"isJest"],[51,77,106,34],[51,79,106,35],[51,80,106,36],[52,4,108,2],[52,11,108,9],[53,6,108,11,"context"],[53,13,108,18],[54,6,108,20,"doDependenciesDiffer"],[54,26,108,40],[55,6,108,42,"useWeb"],[56,4,108,49],[56,5,108,50],[57,2,109,0],[58,0,109,1],[58,3]],"functionMap":{"names":["<global>","useHandler","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OC+D;YCgB;WCC;KDE;GDC;CDyB"},"hasCjsExports":false},"type":"js/module"}]}